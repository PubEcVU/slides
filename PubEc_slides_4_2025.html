<!DOCTYPE html>
<html lang="en"><head>
<script src="PubEc_slides_4_2025_files/libs/clipboard/clipboard.min.js"></script>
<script src="PubEc_slides_4_2025_files/libs/quarto-html/tabby.min.js"></script>
<script src="PubEc_slides_4_2025_files/libs/quarto-html/popper.min.js"></script>
<script src="PubEc_slides_4_2025_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="PubEc_slides_4_2025_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PubEc_slides_4_2025_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="PubEc_slides_4_2025_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PubEc_slides_4_2025_files/libs/quarto-contrib/reveal-header-1.0.0/add_header.js" defer="true"></script>
<link href="PubEc_slides_4_2025_files/libs/quarto-contrib/reveal-header-1.0.0/add_header.css" rel="stylesheet">
<script src="PubEc_slides_4_2025_files/libs/quarto-contrib/sc-sb-title-1.0.0/sc_sb_title.js" defer="true"></script>
<link href="PubEc_slides_4_2025_files/libs/quarto-contrib/grid-no-htext-1.0.0/grid_no_htext.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Stefan Hochguertel">
  <meta name="dcterms.date" content="2025-02-12">
  <title>Public Economics</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="PubEc_slides_4_2025_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="PubEc_slides_4_2025_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="PubEc_slides_4_2025_files/libs/revealjs/dist/theme/quarto-7cec2dca622b227f57edc44a776e74bc.css">
  <link href="PubEc_slides_4_2025_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="PubEc_slides_4_2025_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="PubEc_slides_4_2025_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="PubEc_slides_4_2025_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="images/starlings.jpg" data-background-opacity="0.67" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">Public Economics</h1>
  <p class="subtitle">BSc Course</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Stefan Hochguertel 
</div>
<div class="quarto-title-author-email">
<a href="mailto:s.hochguertel@vu.nl">s.hochguertel@vu.nl</a>
</div>
        <p class="quarto-title-affiliation">
            Vrije Universiteit Amsterdam
          </p>
    </div>
</div>

  <p class="date">2025-02-12</p>
</section>
<section>
<section id="local-and-global-public-goods" class="title-slide slide level1 center" data-background-color="#049baa" data-number="5">
<h1><span class="header-section-number">5</span> Local and Global Public Goods</h1>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="geography-and-politics" class="slide level3">
<h3>Geography and Politics</h3>
<ul>
<li>so far, have ignored the spatial distribution of costs and benefits of a public good</li>
<li>geography may matter for enjoying benefits: if you live far away from the point of provision of the public good, you may not benefit directly, and maybe also not indirectly</li>
<li>certain public facililities are clearly local and target citizens of a municipality or region</li>
<li>local PG problems can be overcome through coordination and cooperation of closely interacting jurisdictions
<ul>
<li>if not, a central gov’t can coordinate or impose actions to take</li>
</ul></li>
<li>other goods are truly global without exclusion and no direct coordination</li>
<li>politics matters: a voting approach to determine public good allocation can only reflect preferences of those that may vote within the jurisdiction, and not those of outsiders—even though those may be affected as well by the public good</li>
</ul>
<!-- ** NEW SUSBECTION ***************************************************** -->
</section>
<section id="local-public-goods-lpgs" class="title-slide slide level2 center" data-background-color="#acfaf7" data-number="5.1">
<h2><span class="header-section-number">5.1</span> Local Public Goods (LPGs)</h2>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="decentralization" class="slide level3">
<h3>Decentralization</h3>
<h4 id="regional-tasks-and-units">Regional Tasks and Units</h4>
<ul>
<li><p>hierarchical organizations of gov’t (federal, state, county level etc.) typically have multi-level layers of tax revenue collection and expenditure responsibilities between different levels</p></li>
<li><p>fiscal federalism: system of transfers and grants from the federal gov’t to state/county gov’t</p></li>
<li><p>there is a wide variation of decentralization of tasks across countries, and there are non-uniform changes in the patterns over time</p></li>
</ul>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="communities-as-clubs" class="slide level3">
<h3>Communities as Clubs</h3>
<ul>
<li>local public good: benefits geographically restricted</li>
<li>municipalities: clubs that provide local public goods</li>
<li>financing is through local budgets (local taxes)</li>
<li>consumer can move into the area (‘join the club’) and pay local taxes (‘membership fee’)</li>
<li>analogy with exclusion: local authorities can prevent additional new building and can enforce tax collection</li>
<li>clubs (municipalities) with higher levels of public goods charge higher fees (taxes)</li>
</ul>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="tiebout-hypothesis" class="slide level3">
<h3><span class="smallcaps">Tiebout</span> Hypothesis</h3>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Mechanism</a></li><li><a href="#tabset-1-2">Considerations</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div title="[Tiebout]{.smallcaps} Hypothesis">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="smallcaps">Tiebout</span> Hypothesis</strong></p>
</div>
<div class="callout-content">
<p>Under restrictive conditions (esp.&nbsp;absence of transaction costs), provision of local public goods is not associated with free-riding problems. These goods can be provided efficiently.</p>
</div>
</div>
</div>
</div>
<ul>
<li><p>main mechanism at work: <strong>sorting</strong> according to preferences</p></li>
<li><p>if level of provision / level of taxes differs between municipalities, choice of location <strong>reveals preference</strong> w.r.t. level of local public goods through ‘voting with one’s feet’</p></li>
<li><p>by choosing non-optimal location, consumer merely hurts himself</p></li>
<li><p>with many different communities and many preference-types, market outcome (self-selection, sorting) is fully efficient</p></li>
</ul>
</div>
<div id="tabset-1-2">
<ul>
<li>maintained assumptions
<ul>
<li>no fixed link between income and location</li>
<li>no transaction costs of moving</li>
<li>number and structure of different communities needs to match number and structure of consumer types (‘infinity’)</li>
</ul></li>
<li>practical view
<ul>
<li><span class="smallcaps">Tiebout</span> stresses the tendency of the public good problem solving itself once possibility of sorting according to preferences is taken into account<br>
</li>
<li>emphasis that tax/transfer differentials may matter for migration decisions</li>
</ul></li>
</ul>
</div>
</div>
</div>
<!-- ** NEW SUSBECTION ***************************************************** -->
</section>

<section id="global-public-goods-gpgs" class="title-slide slide level2 center" data-background-color="#acfaf7" data-number="5.2">
<h2><span class="header-section-number">5.2</span> Global Public Goods (GPGs)</h2>

</section>
<section id="gpgs" class="slide level3">
<h3>GPGs</h3>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Issue</a></li><li><a href="#tabset-2-2">Examples</a></li><li><a href="#tabset-2-3">Covid19</a></li><li><a href="#tabset-2-4">Typology</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<ul>
<li>as every PG, GPGs are non-rival and non-excludable</li>
<li>but their range is global (or at least transnational)</li>
<li>once provided, no country can be prevented from enjoying a GPG; nor can any country’s enjoyment of the good impinge on the consumption opportunities of other countries</li>
<li>if provided, GPGs make citizens better off everywhere</li>
<li>typically, some sort of coordination between countries is required</li>
</ul>
</div>
<div id="tabset-2-2">
<h5 id="including-global-public-bads-and-impure-versions">Including Global Public Bads and Impure Versions</h5>
<!-- multicolumn setup .................................................... -->
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>ozone layer depletion</li>
<li>extinction of endangered species</li>
<li>common pool resources (e.g., overfishing)</li>
<li>climate change</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/ozone9.11.webp" style="width:40.0%"></p>
</div></div>
<!-- END multicolumn setup ................................................ -->
<ul>
<li>infectious disease pandemics / vaccination</li>
<li>factor mobility and eroding gov’t powers (race to the bottom)
<ul>
<li>migration: social insurance shopping</li>
<li>tax competition and/or tax avoidance: diminishing (capital) tax base</li>
</ul></li>
</ul>
</div>
<div id="tabset-2-3">
<iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?tab=map&amp;zoomToSelection=true&amp;time=earliest&amp;facet=none&amp;uniformYAxis=0&amp;country=NLD~GBR~USA~ITA~DNK~SWE&amp;pickerSort=asc&amp;pickerMetric=location&amp;hideControls=true&amp;Metric=People+fully+vaccinated&amp;Interval=7-day+rolling+average&amp;Relative+to+Population=true&amp;Color+by+test+positivity=false" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
</div>
<div id="tabset-2-4">
<div class="columns">
<div class="column">
<ul>
<li>Single Best Effort<br></li>
</ul>
<div style="font-size: 75%;">
<p>every country would be willing to sacrifice resources for provision and go it <strong>alone</strong>; one country is needed to provide it once and for all<br> Ex.: asteroid annihilating planet earth</p>
</div>
<ul>
<li>Weakest Link<br></li>
</ul>
<div style="font-size: 75%;">
<p>can only be provided with the active participation of <strong>every</strong> country provision depends on weakest individual effort<br> Ex.: smallpox eradication</p>
</div>
<ul>
<li>Aggregate Effort<br></li>
</ul>
<div style="font-size: 75%;">
<p>provision of the good depends on <strong>total</strong> effort of many countries<br> Ex.: reduction of GHG emissions</p>
</div>
</div><div class="column">
<ul>
<li>Mutual Restraint<br></li>
</ul>
<div style="font-size: 75%;">
<p>countries should <strong>refrain</strong> from doing the wrong thing<br> Ex.: nuclear disarmament</p>
</div>
<ul>
<li>Coordination<br></li>
</ul>
<div style="font-size: 75%;">
<p>countries do the <strong>same</strong> thing, or coordinate their actions<br> Ex.: standards of time, weighs and measures<br> <br> <br> <br> <em>source:</em> Barrett, Why Cooperate? OxUP, 2007</p>
</div>
</div></div>
</div>
</div>
</div>
</section>
<section id="unilateral-action-v-cooperation" class="slide level3">
<h3>Unilateral Action v Cooperation</h3>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Issue</a></li><li><a href="#tabset-3-2">Welfare Loss Illustrated</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<ul>
<li>unilateral action can help some, where players forego the benefits from cooperation and do not care about others free-riding on them</li>
<li>if good’s quantity is binary (annihilation example: all or nothing), in a single-best-effort provision there is no free-riding problem, since the good will not be underprovided</li>
<li>more generally, might observe this where a player has private marginal benefits exceed marginal cost of provision</li>
<li>if the good’s quantity is continous, still have free-riding and underprovision</li>
<li>welfare loss (compared to full cooperation) remains</li>
</ul>
</div>
<div id="tabset-3-2">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>private-market equilibrium corresponding to Prisoner’s Dilemma is at a quantity of <span class="math inline">\(G=0\)</span></li>
<li>efficient solution Samuelson rule: <span class="math inline">\(G^*\)</span>
<ul>
<li>welfare loss (total surplus foregone) is large</li>
</ul></li>
<li>unilateral action by player <span class="math inline">\(j\)</span>: choose quantity <span class="math inline">\(G^o\)</span> such that <span class="math display">\[MB_j(G^o) = MC(G^o)\]</span>
<ul>
<li>welfare loss is smaller</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<iframe src="https://edu.nl/rhwy9" width="500" height="500" style="border: 1px solid #ccc"></iframe>
</div></div>
<!-- end columns -->
</div>
</div>
</div>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="data" class="slide level3">
<h3>Data</h3>
<h4 id="multinational-environmental-agreements">Multinational Environmental Agreements</h4>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/IEAhyear.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/IEAkNsig.png"></p>
</div></div>
<!-- end columns -->
<div style="font-size: 75%;">
<p><em>data source:</em> R.B. Mitchell, <a href="https://iea.uoregon.edu">U Oregon</a></p>
</div>
<ul>
<li>data suggests: small number of signatories</li>
<li>unclear: how many agreements would there be, if there was no free-riding?</li>
</ul>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="pollution-abatement-game-with-n-players" class="slide level3">
<h3>Pollution Abatement Game with <span class="math inline">\(N\)</span> Players</h3>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Notation</a></li><li><a href="#tabset-4-2">Non-cooperative Solution</a></li><li><a href="#tabset-4-3">Cooperative Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<ul>
<li><p>symmetric <span class="math inline">\(N\)</span>-player game with 2 actions: abate or pollute</p></li>
<li><p>denote player <span class="math inline">\(i\)</span>’s binary abatement action <span class="math inline">\(q_i = \{ 0, 1 \}\)</span> for (pollute, abate)</p></li>
<li><p>denote total abatement by all players <span class="math display">\[Q=\sum_{j=1}^N q_j = q_i+Q_{-i};\qquad Q_{-i} \equiv \sum_{j\neq i; j=1}^N q_j\]</span></p></li>
<li><p>benefit <span class="math inline">\(b\)</span>: everyone’s abatement benefits everybody (all players)</p></li>
<li><p>cost <span class="math inline">\(c\)</span>: cost of a player’s abatement is private</p></li>
<li><p>payoff for player <span class="math inline">\(i\)</span>: benefit minus cost, <span class="math display">\[\Pi_i(q_i)= b\cdot Q - c \cdot q_i = (b-c) \cdot q_i + b \cdot Q_{-i}\]</span></p></li>
</ul>
</div>
<div id="tabset-4-2">
<ul>
<li><p>everybody maximizes their own payoff, taking other players’ choices as given <span class="math display">\[\max_{q_i} \Pi_i(q_i)\]</span></p></li>
<li><p>from FOC (set first derivative to zero), find best response or reaction functions</p></li>
<li><p>Nash equilbrium: intersection of best-response functions</p></li>
</ul>
</div>
<div id="tabset-4-3">
<ul>
<li><p>social planner simultaneously maximizes collective payoff of all players</p></li>
<li><p>for instance, the sum of all payoffs <span class="math inline">\(\Pi(Q) = \sum_i^N \Pi_i(q_i)\)</span> <span class="math display">\[\max_{Q} \Pi(Q) \qquad \to \quad Q^\star\]</span></p></li>
<li><p>and share the result (evenly in a symmetric game) <span class="math display">\[\Pi_i^\star = \frac{1}{N} \Pi(Q^\star)\]</span></p></li>
</ul>
</div>
</div>
</div>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="payoff-functions-for-multiplayer-prisoners-dilemma-mpd" class="slide level3">
<h3>Payoff-Functions for Multiplayer Prisoner’s Dilemma (MPD)</h3>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">2-Player Example</a></li><li><a href="#tabset-5-2">3-Player Example</a></li><li><a href="#tabset-5-3">Payoff-Functions</a></li><li><a href="#tabset-5-4">Symmetric MPD Graph</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<ul>
<li>Recall payoff for player <span class="math inline">\(i\)</span>: <span class="math display">\[\Pi_i(q_i)= (b-c) \cdot q_i + b \cdot Q_{-i} \]</span></li>
<li>assume: abating costs 7 to the abater, and brings benefits of 5 to <em>every</em> player including oneself</li>
</ul>
<!-- multicolumn setup .................................................... -->
<div class="columns">
<div class="column" style="width:50%;">
<p>traditional payoff matrix</p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">pollute</th>
<th style="text-align: right;">abate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">pollute</td>
<td style="text-align: right;">0; 0</td>
<td style="text-align: right;">5; -2</td>
</tr>
<tr class="even">
<td style="text-align: left;">abate</td>
<td style="text-align: right;">-2; 5</td>
<td style="text-align: right;">3; 3</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>payoff to player 1 vs number of other abaters <span class="math inline">\(Q_{-1}\)</span></p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math inline">\(Q_{-1}\)</span>:</th>
<th style="text-align: right;">0</th>
<th style="text-align: right;">1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">pollute</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">abate</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
</div></div>
<!-- END multicolumn setup ................................................ -->
</div>
<div id="tabset-5-2">
<p><img data-src="images/MPD_3player_example.jpg"></p>
<p><strong>Question:</strong> What, if <span class="math inline">\(N&gt;3\)</span>?</p>
</div>
<div id="tabset-5-3">
<ul>
<li><p>define payoff-function:</p>
<ul>
<li><p>payoff from playing Abate: <span class="math inline">\(\color{blue}{\Pi_{A;i}} = \Pi_i(1) = (b-c) + b \cdot Q_{-i}\)</span></p></li>
<li><p>payoff from playing Pollute: <span class="math inline">\(\color{red}{\Pi_{P;i}} = \Pi_i(0) = b \cdot Q_{-i}\)</span></p></li>
</ul></li>
<li><p>using generic notation, this applies to all <span class="math inline">\(N\)</span></p></li>
<li><p><span class="math inline">\(\to\)</span> instead of looking at a matrix game, the very simple PD structure allows just focusing on the difference in payoffs between two actions, possibly as a function of <span class="math inline">\(Q_{-i}\)</span>, the number of players abating other than player <span class="math inline">\(i\)</span></p></li>
</ul>
</div>
<div id="tabset-5-4">
<table class="caption-top">
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td colspan="10" style="text-align: center;"><span class="math inline">\(Q_{-1}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pollute</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">abate</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">43</td>
</tr>
</tbody>
</table>
<iframe src="https://www.desmos.com/calculator/gdwc4chwwa?embed" width="1350" height="450" style="border: 1px solid #ccc" frameborder="0"></iframe>
</div>
</div>
</div>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="treaties" class="slide level3">
<h3>Treaties</h3>
<ul>
<li>MPD shows: pollute always dominates abate, at any number of abating other countries</li>
<li>non-cooperative equilbrium: no-one abates!</li>
<li>GPG problems cannot be solved through coordination from or mandates by a supernational gov’t</li>
<li>yet, there is the possibility of acceding voluntary int’l agreements (treaties)
<ul>
<li>most international agreements are based on the idea to have a voluntary club of countries that commits to some form of cooperative action</li>
<li>joiners can, like players in an <span class="smallcaps">Edgeworth</span> box, find a <span class="smallcaps">Pareto</span> efficient solution for themselves and harness the gains from cooperation</li>
<li>however, many countries would not want to join, since free-riding is more beneficial than cooperating</li>
<li>various COP meetings (e.g., 2015 Paris, 2023 Dubai, etc.) show that large agreements are (a) rare, and (b) not very powerful</li>
</ul></li>
</ul>
<div title="Selfenforcing Agreements">
<div class="callout callout-important no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Selfenforcing Agreements</strong></p>
</div>
<div class="callout-content">
<p>Treaties must be self-enforcing, and do more than simply tell countries what to do. Treaties must make it in the own interest of countries to voluntarily behave as every country would like them to behave.</p>
</div>
</div>
</div>
</div>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="treaty-solution-to-global-public-goods-i" class="slide level3 smaller">
<h3>Treaty Solution to Global Public Goods, I</h3>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Overview</a></li><li><a href="#tabset-6-2">Stages</a></li><li><a href="#tabset-6-3">Illustration</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<ul>
<li>PD shows that there are gains from cooperation</li>
<li>two (generally: <span class="math inline">\(k\)</span>) countries could simply decide to commit to ‘abate’, then share the collective gains among participants (divide the total gain by <span class="math inline">\(k\)</span>)</li>
<li>since participation is voluntary, each such country needs to compare the net benefits from cooperation with the net benefits from free-riding</li>
<li>e.g., if the total gains from cooperation are constant, increasing <span class="math inline">\(k\)</span> will make it less attractive to join
<ul>
<li>where is the tipping point to leave?</li>
<li>how many countries cooperate (what is <span class="math inline">\(k\)</span>)?</li>
<li>what is the equilibrium?</li>
</ul></li>
</ul>
</div>
<div id="tabset-6-2">
<p>There are <span class="math inline">\(N\)</span> countries.<br> Consider a treaty. It says: all <span class="math inline">\(k\)</span> signatories will ‘abate’ and receive the average total gain from cooperation.</p>
<p>Three stages:</p>
<ol type="1">
<li>non-cooperative: each country decides unilaterally whether or not to join / sign the treaty</li>
<li>cooperative: the <span class="math inline">\(k\)</span> signatories ‘abate’ and share the gains</li>
<li>non-cooperative: the <span class="math inline">\(N-k\)</span> non-signatories decide unilaterally whether to ‘abate’ or ‘pollute’</li>
</ol>
</div>
<div id="tabset-6-3">
<p><img data-src="images/treaty2.png"></p>
</div>
</div>
</div>
</section>
<section id="treaty-solution-to-global-public-goods-ii" class="slide level3 smaller">
<h3>Treaty Solution to Global Public Goods, II</h3>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Solution</a></li><li><a href="#tabset-7-2">2 Players cooperating</a></li><li><a href="#tabset-7-3">In or Out?</a></li><li><a href="#tabset-7-4">Role of <span class="math inline">\(k\)</span></a></li><li><a href="#tabset-7-5">Role of <span class="math inline">\(N\)</span></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>Solution is backward: start with 3.</p>
<p>3. any non-signatory will ‘pollute’, since no matter what, this is the dominant strategy in non-cooperative play<br></p>
<p>2. determine the payoff from cooperating, conditional on <span class="math inline">\(k\)</span><br></p>
<p>1. determine <span class="math inline">\(k\)</span> by asking per individual player: is it worth to join and ‘abate’, or are the payoffs from staying out and ‘polluting’ higher?</p>
</div>
<div id="tabset-7-2">
<p>Players 1 and 2 inside a treaty, doing the same thing: both abate or both pollute</p>
<p><img data-src="images/treaty_coalition_example.png" style="width:70.0%"></p>
<p>P3 will always pollute</p>
</div>
<div id="tabset-7-3">
<ul>
<li>benefit from joining: joint payoff from cooperation <span class="math inline">\(&gt;\)</span> payoff from not-cooperating</li>
<li>benefit from leaving: free-riding on others (benefit from others’ effort, no cost to oneself)</li>
<li>mechanism of effective punishment: leaving reduces # cooperators <span class="math inline">\(k\)</span>, who will lower their contributions to the public good; this will limit the attractiveness of free-riding for leavers
<ul>
<li>in the limit, cooperation breaks down, erasing benefit of free-riding</li>
</ul></li>
<li>in a stable equilibrium,
<ul>
<li>no signatory can gain by unilaterally leaving</li>
<li>no non-signatory can gain by unilaterally joining</li>
</ul></li>
</ul>
</div>
<div id="tabset-7-4">
<ul>
<li>clue to payoffs in PD matrix: every player has cost <span class="math inline">\(c\)</span> of own abatement to himself, but shares the benefits <span class="math inline">\(b\)</span> of anyone’s abatement, hence gets <span class="math inline">\(k\cdot b\)</span> with <span class="math inline">\(k\)</span> abaters</li>
<li>hence, payoff when cooperating is <span class="math inline">\(\qquad \Pi = k\cdot b - c\)</span></li>
<li>it can be shown (see Barrett, ch.&nbsp;7) that the equilibrium number of treaty participants, <span class="math inline">\(k^\star\)</span>, is driven by ratio of <span class="math inline">\(c\)</span> to <span class="math inline">\(b\)</span>; <span class="math inline">\(k^\star\)</span> is an integer: <span class="math display">\[ \frac{c}{b}\le k^\star \le \frac{c}{b}+1\]</span></li>
<li>example: <span class="math inline">\(c=7\)</span>, <span class="math inline">\(b=5\)</span> <span class="math inline">\(\quad\Rightarrow\quad\)</span> <span class="math inline">\(k^\star =2\)</span></li>
</ul>
</div>
<div id="tabset-7-5">
<ul>
<li><span class="math inline">\(N\)</span> large and large gains of cooperation entails large incentive to leave
<ul>
<li>by leaving, the leaver suffers little in terms of reduced benefits, but gains a lot in terms of reduced costs</li>
<li>leaving is very attractive</li>
</ul></li>
<li><span class="math inline">\(N\)</span> small:
<ul>
<li>credible punishments will be large relative to the gains from leaving, and a self-enforcing agreement can sustain a high participation rate</li>
</ul></li>
<li>equilibrium number of signatories, typically <span class="math inline">\(k^\star\ll N\)</span></li>
</ul>
</div>
</div>
</div>
</section>
<section id="comments-on-the-approach" class="slide level3">
<h3>Comments on the Approach</h3>
<ul>
<li>both signatories and non-signatories would gain from full cooperation (everybody cooperates)</li>
<li>full cooperation is not a self-enforcing <span class="smallcaps">Nash</span> equilibrium and hence vulnerable to some parties wanting to renegotiate</li>
<li>non-signatories are better off than signatories</li>
<li>symmetry: the approach may be able to predict how large the groups are, <span class="math inline">\(k^\star\)</span> and <span class="math inline">\(N-k^\star\)</span>, but will not say anything about the identity of players</li>
<li>cooperation can occur where the difference between global net benefits under the full cooperative and non-cooperative solutions is small; when this difference is large, a self-enforcing treaty will have few members</li>
<li><span class="math inline">\(N\)</span> very large: treaties can achieve very little
<ul>
<li>treaties tend to codify what is already happening (smallest common denominator)</li>
<li>requiring drastic changes will put off potential members</li>
</ul></li>
</ul>
<!-- ** NEW SUSBECTION ***************************************************** -->
</section>

<section id="summary" class="title-slide slide level2 unnumbered center" data-background-color="#acfaf7">
<h2>Summary</h2>
<!-- ** NEW SLIDE ********************************************************* -->
</section>
<section id="summary-1" class="slide level3">
<h3>Summary</h3>
<ul>
<li>uniform provision of public goods may not do justice to spatial distribution of preferences</li>
<li><span class="smallcaps">Tiebout</span>’s voting with one’s feet puts democracy upside down: instead of voting over provision of public goods, people sort to locations where their preferences match a given level of public good provision
<ul>
<li>needs heroic assumptions (e.g.&nbsp;absence of transaction costs)</li>
<li>needs no coordination between (local) governments</li>
</ul></li>
<li>global public goods do need coordination, and treaties have been shown to be successful, if slowly emerging</li>
<li>treaties can be equilibrium constellations that harness some of the gains of cooperation, while keeping free-riding in check
<ul>
<li>the decision to join or leave the treaty is voluntary</li>
<li>players that agree to the treaty are obliged to cooperate and share the gains</li>
<li>this can be an equilibrium, however, with a free-riding fringe</li>
<li><span class="math inline">\(\#\)</span> players in the treaty stays typically small</li>
</ul></li>
</ul>

<div class="reveal-header">
<div class="header-logo">
<img data-src="">
</div>
<div class="sc-title">
<p> </p>
</div>
<div class="header-text">
<p> </p>
</div>
<div class="sb-title">
<p> </p>
</div>
</div>
</section>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/VUnobg.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>BSc Course • Public Economics • © 2024-25 Stefan Hochguertel</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="PubEc_slides_4_2025_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: '90%',

        height: 800,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
              // default icon
              link.classList.add("external");
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>